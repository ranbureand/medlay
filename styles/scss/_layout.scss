/* (c) 2015 Andrea Buran [www.andreaburan.com] All rights reserved */

/*
 * Placeholders
 */

%column-gut {
	position: relative;

	padding-right: em($m-gut/2);
	padding-left: em($m-gut/2);

	@include min-screen(col(12)) {
		padding-right: em($d-gut/2);
		padding-left: em($d-gut/2);
	}
}

/*
 * Istances
 */

.alarm {
	color: $error;
}

.warning {
	padding: rhythm(2) em($m-gut/2) rhythm(2) em($m-gut/2);

	@include min-screen(col(12)) {
		padding: rhythm(2) em($d-gut/2) rhythm(2) em($d-gut/2);
	}
}

.header {
	padding-top: rhythm($m-small-line);
	padding-bottom: rhythm($m-small-line);
	overflow: auto;
	width: 100%;
	text-align: center;
	@include align(center);
	h1, div {
		padding-right: em($m-gut/2, $m-small-size);
		padding-left: em($m-gut/2, $m-small-size);
		@include adjust-font-size-to($m-small-size, $m-small-line);
	}
	h1 {
		font-weight: $normal;
		@include face(sans);
		text-transform: none;
		a {
			font-weight: $bold;
		}
	}
	@include min-screen(col(8)) {
		padding-top: rhythm($d-small-line);
		padding-bottom: rhythm($d-small-line);
		width: col(8);
		h1, div {
			padding-right: em($d-gut/2, $d-small-size);
			padding-left: em($d-gut/2, $d-small-size);
			@include adjust-font-size-to($d-small-size, $d-small-line);
		}
	}
	@include min-screen(col(12)) {
		text-align: left;
		width: col(12);
		h1 {
			float: left;
			margin-right: -100%;
			margin-left: col(4, $d-small-size);
			width: col(8, $d-small-size);
		}
		div {
			text-align: right;
			margin-right: -100%;
			margin-left: 0;
			float: left;
			width: col(4, $d-small-size);
		}
	}
	@include min-screen(col(16)) {
		width: col(16);
	}
}

.footer {
	overflow: hidden;
	@include align(center);
	padding-top: rhythm($m-small-line);
	padding-bottom: rhythm($m-small-line);
	width: 100%;
	div {
		text-align: center;
		padding-right: em($m-gut/2, $m-small-size);
		padding-left: em($m-gut/2, $m-small-size);
		@include adjust-font-size-to($m-small-size, $m-small-line);
	}
	@include min-screen(col(8)) {
		padding-top: rhythm($d-small-line);
		padding-bottom: rhythm($d-small-line);
		width: col(8);
		div {
			padding-right: em($d-gut/2, $d-small-size);
			padding-left: em($d-gut/2, $d-small-size);
			@include adjust-font-size-to($d-small-size, $d-small-line);
		}
	}
	@include min-screen(col(12)) {
		width: col(12);
		div {
			text-align: left;
			float: left;
		}
		.copy {
			text-align: right;
			margin-right: -100%;
			margin-left: 0;
			width: col(4, $d-small-size);
		}
		.about {
			margin-right: -100%;
			margin-left: col(4, $d-small-size);
			width: col(4, $d-small-size);
		}
		.scroll {
			text-align: right;
			margin-right: -100%;
			margin-left: col(8, $d-small-size);
			width: col(4, $d-small-size);
		}
	}
	@include min-screen(col(16)) {
		width: col(16);
		.scroll {
			margin-left: col(12, $d-small-size);
		}
	}
}

[class*="headr"] {
	overflow: auto;

	width: 100%;
	padding-top: rhythm($m-small-line);
	padding-bottom: rhythm($m-small-line*4);

	@include align(center);
	.website, .motto {
		padding-right: em($m-gut/2, $m-small-size);
		padding-left: em($m-gut/2, $m-small-size);

		@include adjust-font-size-to($m-small-size, $m-small-line);
		a {
			@include link;
		}
		[class*="button"] {
			@include link(none);
		}
	}
	.website {
		float: left;
	}
	.motto {
		float: right;
	}
	@include min-screen(col(12)) {
		width: col(12);
		padding-top: rhythm($d-small-line);
		padding-bottom: rhythm($d-small-line*6);
		.website
		.motto {
			padding-right: em($d-gut/2, $d-small-size);
			padding-left: em($d-gut/2, $d-small-size);

			@include adjust-font-size-to($d-small-size, $d-small-line);
		}
	}
	@include min-screen(col(16)) {
		width: col(16);
	}
	@include min-screen(col(20)) {
		width: col(20);
		.website, .motto {
			width: col(6, $d-small-size);
		}
		.website {
			margin-right: -100%;
			margin-left: 0;
		}
		.motto {
			float: right;

			margin-right: 0;
			margin-left: -100%;

			text-align: right;
		}
	}
	@include min-screen(col(24)) {
		width: col(24);
		.website, .motto {
			width: col(8, $d-small-size);
		}
	}
}

.content {
	width: 100%;
	padding-top: rhythm($m-medium-line*4);
	padding-bottom: rhythm($m-medium-line*4);

	overflow: auto;

	@include align();
	@include clearfix();
	@include min-screen(col(8)) {
		padding-top: rhythm($d-medium-line*4);
		width: col(8);
		padding-bottom: rhythm($d-medium-line*4);
	}
	@include min-screen(col(12)) {
		width: col(12);
		//padding-left: col(4) + em(-$d-gut/2);
		padding-left: col(4);
	}
	@include min-screen(col(16)) {
		width: col(16);
	}
}

[class*="heading"] {
	margin-bottom: rhythm($m-large-line/2, $m-large-size);
	padding-right: em($m-gut/2, $m-large-size);
	padding-left: em($m-gut/2, $m-large-size);

	text-align: center;

	@include adjust-font-size-to($m-large-size, $m-large-line);
	@include min-screen(col(12)) {
		margin-bottom: rhythm($d-large-line/2, $d-large-size);
		padding-right: em($d-gut/2, $d-large-size);
		padding-left: em($d-gut/2, $d-large-size);

		@include adjust-font-size-to($d-large-size, $d-large-line);
	}
	@include min-screen(col(16)) {
		width: col(14, $d-large-size);
		margin-right: auto;
		margin-left: auto;
	}
}
.heading-left {
	@include min-screen(col(20)) {
		margin-left: col(6, $d-large-size);

		text-align: left;
	}
	@include min-screen(col(24)) {
		margin-left: col(8, $d-large-size);
	}
}
.heading-center {
	@include min-screen(col(20)) {
		margin-left: col(3, $d-large-size);

		text-align: center;
	}
	@include min-screen(col(24)) {
		margin-left: col(5, $d-large-size);
	}
}

.body {
	width: 100%;

	@extend %column-gut;
	h1, h2, h3, h4, h5, h6 {
		text-align: center;
	}
	@include min-screen(col(12)) {
		width: col(8);
		h1, h2, h3, h4, h5, h6 {
			text-align: left;
		}
	}
	@include min-screen(col(16)) {
		float: left;
		margin-left: 0;
		margin-right: -100%;
	}
}

.toc {
	width: 100%;
	@include min-screen(col(16)) {
		width: col(4);
		float: left;
		margin-left: col(8);
		margin-right: -100%;
	}
}

#markdown-toc {
	padding-left: 0;
	list-style-type: none;
	text-align: center;
	ul {
		padding-left: 0;
	}
	li {
		@include adjust-font-size-to($m-small-size, $m-small-line);
		&:before {
			content: none;
		}
		li {
			@include adjust-font-size-to($m-extra-small-size, $m-extra-small-line, $m-small-size);
			li {
				font-size: 1em;
			}
		}
	}
	> li {
		margin-bottom: rhythm($m-small-line, $m-small-size);
		&:before {
			border-top: $border-width solid $border-color;
			display: block;
			margin-bottom: rhythm($m-small-line/2, $m-small-size);
			width: 20%;
			content: "";
			margin-left: auto;
			margin-right: auto;
		}
	}
	a {
		display: block;
	}
	@include min-screen(col(12)) {
		> li {
			margin-bottom: rhythm($d-small-line, $d-small-size);
			&:before {
				margin-bottom: rhythm($d-small-line/2, $d-small-size);
			}
		}
	}
	@include min-screen(col(12)) {

		margin-bottom: rhythm($d-small-line/2);
		padding-top: rhythm($d-small-line/4);
		padding-right: em($d-gut/2);
		padding-left: em($d-gut/2);
		margin-left: em(-$column-width*4 -$d-gut/2);
		float: left;
		clear: left;
		width: col(4);
		text-align: right;
		ul {
			padding-right: em($d-gut/2);
		}
		> li {
			&:before {
				margin-left: 80%;
			}
		}
		li {
			@include adjust-font-size-to($d-small-size, $d-small-line);
			li {
				@include adjust-font-size-to($d-extra-small-size, $d-extra-small-line, $d-small-size);
				&:before {
					width: em($d-gut/2, $d-small-size);
					margin-right: em(-$d-gut/2, $d-small-size);
					content: "";
				}
				li {
					font-size: 1em;
				}
			}
		}
	}
}





.figure {
	position: relative;

	margin: rhythm($m-medium-line) 0 rhythm($m-medium-line) 0;

	counter-increment: figures;

	@include clearfix();
	img {
		margin: 0;
	}
	.caption {
		margin-top: rhythm($m-small-line/2);
		&:before {
			float: left;

			padding-right: em($m-gut/2, $m-small-size);

			content: counter(figures) " ]";

			color: $em-type-color;

			@include adjust-font-size-to($m-small-size, $m-small-line);
		}
	}
	@include min-screen(col(12)) {
		img {
			margin: 0;
		}
	}
	@include min-screen(col(20)) {
		margin-top: rhythm($d-medium-line);
		margin-bottom: rhythm($d-medium-line);
		img {
			float: right;
		}
		.caption {
			float: left;
			clear: left;

			width: col(6);
			margin-top: rhythm($d-small-line/4);
			margin-left: em(-$column-width*6 -$d-gut);
			padding-right: em($d-gut/2);
			padding-left: em($d-gut/2);

			text-align: right;
			&:before {
				float: right;

				padding-right: 0;
				padding-left: em($d-gut/2, $d-small-size);

				content: "[ " counter(figures);

				@include adjust-font-size-to($d-small-size, $d-small-line);
			}
		}
	}
}

.footnote, .sidenote {
	a[href *= "#fnr"] {
		@include link(none);
	}
	.ref-mark {
		display: block;

		color: $strong-type-color;

		@include adjust-font-size-to($m-small-size, $m-small-line);
	}
	blockquote {
		padding-left: 0;

		border-left-width: 0;
	}
	@include min-screen(col(8)) {
		.ref-mark {
			@include adjust-font-size-to($d-small-size, $d-small-line);
		}
	}
}
.footnote {
	margin-bottom: rhythm($m-small-line/2);

	a[href *= "#fnref"] {
		padding-left: em($m-gut/4, $m-small-size);
	}
	.ref-mark {
		float: left;

		padding-right: em($m-gut/4, $m-small-size);
		&:after {
			content: " )";
		}
	}
	@include min-screen(col(8)) {
		margin-bottom: rhythm($d-small-line/2);
		a[href *= "#fnref"] {
			padding-left: em($m-gut/4, $m-small-size);
		}
		.ref-mark {
			padding-right: em($d-gut/2, $d-small-size);
		}
	}
}
.sidenote {
	margin-bottom: rhythm($m-small-line/2);
	padding-top: rhythm($m-small-line/4);

	a[href *= "#fnr"] {
		display: none;
	}
	.ref-mark {
		float: right;

		padding-left: em($m-gut/2, $m-small-size);
		&:before {
			content: "( ";
		}
	}
	@include min-screen(col(12)) {
		margin-bottom: rhythm($d-small-line/2);
		padding-top: rhythm($d-small-line/4);
		padding-right: em($d-gut/2);
		padding-left: em($d-gut/2);
		margin-left: em(-$column-width*4 -$d-gut/2);
		float: left;
		clear: left;

		width: col(4);

		text-align: right;
		.ref-mark {
			padding-left: em($d-gut/2, $d-small-size);
		}
	}
}

.results {
	width: 100%;

	@include align();
	@include clearfix();
	.result {
		position: relative;

		float: left;

		width: 100%*1/2;
		padding-right: em($m-gut/2);
		padding-left: em($m-gut/2);

		@include clear(2,1);
		&:target {
			.links {
				background-color: $code-background-color;
			}
		}
	}
	@include min-screen(col(10)) {
		.result {
			width: 100%*1/3;

			@include clear(3,1);
		}
	}
	@include min-screen(col(12)) {
		width: col(12);
		.result {
			width: col(4);
			padding-right: em($d-gut/2);
			padding-left: em($d-gut/2);
		}
	}
	@include min-screen(col(16)) {
		width: col(16);
		.result {
			@include clear(4,1);
		}
	}
	@include min-screen(col(20)) {
		width: col(20);
		.result {
			@include clear(5,1);
		}
	}
	@include min-screen(col(24)) {
		width: col(24);
		.result {
			@include clear(6,1);
		}
	}
}
.void {
	position: relative;

	display: block;

	width: 100%;
	padding-top: 100%;

	.image {
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;

		max-width: 100%;
		max-height: 100%;
		margin: auto;

		text-align: center;

		opacity: 1.0;

		@include transition-property(opacity);
		@include transition-duration(0.2s);
		@include transition-timing-function(ease-in-out);
		//@include transition-delay(0.0s);
		@include adjust-font-size-to($m-extra-small-size, $m-extra-small-line);
		image-rendering: pixelated;
	}
	.balloon {
		position: absolute;
		top: 0;
		left: 0;

		width: 100%;
		height: 100%;
		padding: em($m-gut/2);

		opacity: 0.0;
		background-color: $background-color;

		@include transition-property(opacity);
		@include transition-duration(0.2s);
		@include transition-timing-function(ease-in-out);
		@include transition-delay(0.1s);
		.speech {
			display: table;

			width: 100%;
			height: 100%;
			p {
				display: table-cell;

				text-align: center;
				vertical-align: middle;

				color: $type-color;

				@include adjust-font-size-to($m-extra-small-size, $m-extra-small-line);
			}
		}
	}
	&:hover {
		.image {
			opacity: 0.0;
		}
		.balloon {
			opacity: 1.0;
		}
	}
	@include min-screen(col(12)) {
		.image {
			@include adjust-font-size-to($d-extra-small-size, $d-extra-small-line);
		}
		.balloon {
			padding: em($d-gut/2);
			.speech {
				p {
					@include adjust-font-size-to($d-extra-small-size, $d-extra-small-line);
				}
			}
		}
	}
}

.links {
	padding-top: rhythm($m-extra-small-line, $d-extra-small-size);
	padding-right: em($m-gut/2, $m-extra-small-size);
	padding-bottom: rhythm($m-extra-small-line*2, $d-extra-small-size);
	padding-left: em($m-gut/2, $m-extra-small-size);

	text-align: center;

	@include adjust-font-size-to($m-extra-small-size, $m-extra-small-line);
	a {
		@include link;
	}
	@include min-screen(col(12)) {
		.links {
			padding-top: rhythm($d-extra-small-line, $d-extra-small-size);
			padding-right: em($d-gut/2, $d-extra-small-size);
			padding-bottom: rhythm($d-extra-small-line*2, $d-extra-small-size);
			padding-left: em($d-gut/2, $d-extra-small-size);

			@include adjust-font-size-to($d-extra-small-size, $d-extra-small-line);
		}
	}
}
.unchecked {
	a {
		@include link-colors($error, $strong-type-color, $strong-type-color);
	}
}

.pagination {
	text-align: center;

	li {
		display: inline-block;

		margin-bottom: rhythm($m-small-line/2, $m-small-size);

		@include adjust-font-size-to($m-small-size, $m-small-line);
		a {
			padding-right: em($m-gut/2, $m-small-size);
			padding-left: em($m-gut/2, $m-small-size);

			@include link(none);
		}
	}
	.current {
		a {
			color: $strong-type-color;

			@include link;
		}
	}
	.disabled {
		a {
			color: $strong-type-color;
		}
	}
	@include min-screen(col(12)) {
		li {
			margin-bottom: rhythm($d-small-line/2, $d-small-size);

			@include adjust-font-size-to($d-small-size, $d-small-line);
			a {
				padding-right: em($d-gut/2, $d-small-size);
				padding-left: em($d-gut/2, $d-small-size);
			}
		}
	}
}

[class*="reference"] {
	padding-right: em($m-gut/2, $m-small-size);
	padding-left: em($m-gut/2, $m-small-size);

	@include adjust-font-size-to($m-small-size, $m-small-line);
	a {
		@include link;
	}
	@include min-screen(col(12)) {
		padding-right: em($d-gut/2, $d-small-size);
		padding-left: em($d-gut/2, $d-small-size);

		@include adjust-font-size-to($d-small-size, $d-small-line);
	}
}
.reference-center {
	text-align: center;
}

/*.participants {
	overflow: hidden;

	margin-top: rhythm($m-medium-line);

	li {
		width: col(4, $m-small-size);
		margin-bottom: rhythm($m-small-line/2, $m-small-size);
		padding-right: em($m-gut/2, $m-small-size);
		padding-left: em($m-gut/2, $m-small-size);

		@include adjust-font-size-to($m-small-size, $m-small-line);
		a {
			@include link;
		}
	}
	@include min-screen(col(6)) {
		li {
			float: left;

			width: 100%*1/2;

			@include clear(2,1);
		}
	}
	@include min-screen(col(10)) {
		li {
			width: 100%*1/3;

			@include clear(3,1);
		}
	}
	@include min-screen(col(12)) {
		margin-top: rhythm($d-medium-line);
		li {
			width: col(4, $d-small-size);
			margin-bottom: rhythm($d-small-line/2, $d-small-size);
			padding-right: em($d-gut/2, $d-small-size);
			padding-left: em($d-gut/2, $d-small-size);

			@include adjust-font-size-to($d-small-size, $d-small-line);
		}
	}
	@include min-screen(col(16)) {
		li {
			@include clear(4,1);
		}
	}
	@include min-screen(col(20)) {
		li {
			@include clear(5,1);
		}
	}
	@include min-screen(col(24)) {
		li {
			@include clear(6,1);
		}
	}
}*/

.synopses {
	width: 100%;
	padding-bottom: rhythm($m-small-line*4);

	@include align();
	@include clearfix();
	@include min-screen(col(12)) {
		width: col(12);
		padding-bottom: rhythm($d-small-line*4);
	}
	@include min-screen(col(16)) {
		width: col(16);
	}
	@include min-screen(col(20)) {
		width: col(20);
	}
	@include min-screen(col(24)) {
		width: col(24);
	}
}
.synopsis {
	width: 100%;
	margin-bottom: rhythm($m-small-line*2);

	@extend %column-gut;
	h4 {
		.current {
			color: $strong-type-color;
		}
	}
	@include min-screen(col(6)) {
		float: left;

		width: 100%*1/2;

		@include clear(2,1);
	}
	@include min-screen(col(10)) {
		width: 100%*1/3;

		@include clear(3,1);
	}
	@include min-screen(col(12)) {
		width: col(4);
		margin-bottom: rhythm($d-small-line*2);
	}
	@include min-screen(col(16)) {
		@include clear(4,1);
	}
	@include min-screen(col(20)) {
		@include clear(5,1);
	}
	@include min-screen(col(24)) {
		@include clear(6,1);
	}
}

.the-end {
	overflow: auto;

	width: 100%;
	padding-bottom: rhythm($m-small-line);

	@include align();
	@include clearfix();
	.copyright, .scroll, li {
		margin-bottom: rhythm($m-small-line/2, $m-small-size);
		padding-right: em($m-gut/2, $m-small-size);
		padding-left: em($m-gut/2, $m-small-size);

		@include adjust-font-size-to($m-small-size, $m-small-line);
	}
	.copyright {
		float: left;
		clear: left;

		margin-right: -100%;
		margin-left: 0;
	}
	.scroll {
		float: right;

		margin-right: 0;
		margin-left: -100%;

		text-align: right;
	}
	ul {
		overflow: auto;
	}
	a {
		@include link;
	}
	@include min-screen(col(6)) {
		ul {
			li {
				float: left;

				width: 100%*1/2;
			}
		}
	}
	@include min-screen(col(10)) {
		ul {
			li {
				float: left;

				width: 100%*1/3;
			}
		}
	}
	@include min-screen(col(12)) {
		width: col(12);
		padding-bottom: rhythm($d-small-line);
		.copyright, .scroll, li {
			margin: 0 0 rhythm($d-small-line/2, $d-small-size) 0;
			padding-right: em($d-gut/2, $d-small-size);
			padding-left: em($d-gut/2, $d-small-size);

			@include adjust-font-size-to($d-small-size, $d-small-line);
		}
		ul {
			li {
				width: col(4, $d-small-size);
			}
		}
	}
	@include min-screen(col(16)) {
		width: col(16);
		.copyright {
			clear: none;
		}
		ul {
			float: left;

			margin-right: -100%;
			margin-left: col(4);
			padding-bottom: 0;
			li {
				width: auto;
			}
		}
	}
	@include min-screen(col(20)) {
		width: col(20);
		ul {
			float: left;

			margin-right: -100%;
			margin-left: col(6);
		}
	}
	@include min-screen(col(24)) {
		width: col(24);
		ul {
			margin-right: -100%;
			margin-left: col(8);
		}
	}
}
